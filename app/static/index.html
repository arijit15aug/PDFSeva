<!-- app/static/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PDF Tools</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glass{background:rgba(255,255,255,0.10);border:1px solid rgba(255,255,255,0.18);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px)}
    .shine{background:radial-gradient(600px circle at 20% 10%, rgba(255,255,255,0.35), transparent 55%),radial-gradient(700px circle at 80% 20%, rgba(255,255,255,0.22), transparent 55%),radial-gradient(700px circle at 50% 80%, rgba(255,255,255,0.18), transparent 55%)}

    .brandmark{position:relative;width:46px;height:46px;border-radius:18px;background:rgba(0,0,0,0.22);border:1px solid rgba(255,255,255,0.18);overflow:hidden}
    .brandmark::before{content:"";position:absolute;inset:-2px;background:conic-gradient(from 180deg,rgba(99,102,241,0.95),rgba(168,85,247,0.95),rgba(236,72,153,0.95),rgba(99,102,241,0.95));filter:blur(10px);opacity:.95}
    .brandmark::after{content:"";position:absolute;inset:2px;border-radius:16px;background:rgba(0,0,0,0.25);border:1px solid rgba(255,255,255,0.14)}
    .brandmark>.brandmark-inner{position:relative;z-index:1;height:100%;display:flex;align-items:center;justify-content:center;color:white;text-shadow:0 0 18px rgba(255,255,255,0.45)}

    .mini-mark{width:48px;height:48px;border-radius:18px;background:rgba(0,0,0,0.22);border:1px solid rgba(255,255,255,0.18);display:flex;align-items:center;justify-content:center;box-shadow:0 0 30px rgba(255,255,255,0.10)}

    @keyframes floaty{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}
    .floaty{animation:floaty 2.6s ease-in-out infinite}
    .office-mark{position:relative;width:48px;height:48px;border-radius:18px;background:rgba(0,0,0,0.22);border:1px solid rgba(255,255,255,0.18);overflow:hidden;box-shadow:0 0 30px rgba(255,255,255,0.14)}
    .office-mark::before{content:"";position:absolute;inset:-18px;background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.55), transparent 55%),radial-gradient(circle at 70% 35%, rgba(99,102,241,0.85), transparent 60%),radial-gradient(circle at 50% 85%, rgba(236,72,153,0.85), transparent 60%);filter:blur(10px);opacity:.95}
    .office-mark>.office-inner{position:relative;z-index:1;height:100%;display:flex;align-items:center;justify-content:center}
    .office-inner .badge{padding:6px 10px;border-radius:12px;background:rgba(255,255,255,0.14);border:1px solid rgba(255,255,255,0.18);color:white;font-size:11px;font-weight:900;letter-spacing:.04em;text-shadow:0 0 18px rgba(255,255,255,0.35)}

    /* ✅ little pills */
    .pill{background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.18)}
  </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-indigo-600 via-purple-600 to-fuchsia-600">
  <div class="min-h-screen shine">

    <header class="sticky top-0 z-10">
      <div class="max-w-6xl mx-auto px-4 py-4">
        <div class="glass rounded-3xl px-5 py-4 shadow-xl flex items-center justify-between gap-4">
          <div class="flex items-center gap-3">
            <div class="brandmark">
              <div class="brandmark-inner">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V7l-5-5H7a2 2 0 00-2 2v15a2 2 0 002 2z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 9h6M9 13h6M9 17h4"/>
                </svg>
              </div>
            </div>
            <div>
              <div class="font-extrabold text-white text-lg leading-5">PDF Tools</div>
              <div class="text-xs text-white/70">Frosty • Fast • Simple</div>
            </div>
          </div>

          <!-- ✅ Global 25MB badge -->
          <div class="hidden md:flex items-center gap-2">
            <span class="pill text-white/90 text-xs font-extrabold px-3 py-1.5 rounded-full">Max upload: 25MB</span>
            <span class="pill text-white/80 text-xs font-bold px-3 py-1.5 rounded-full">Railway-friendly</span>
          </div>

          <div class="flex items-center gap-2 sm:gap-3">
            <a href="/tool/office-to-pdf"
               class="rounded-2xl bg-white/20 hover:bg-white/25 border border-white/20 text-white font-semibold text-sm px-4 py-2 transition">
              Open Converter
            </a>

            <div id="authOut" class="flex items-center gap-2">
              <a href="/auth/login"
                 class="rounded-2xl bg-white/10 hover:bg-white/15 border border-white/15 text-white font-semibold text-sm px-4 py-2 transition">
                Sign in
              </a>
              <a href="/auth/signup"
                 class="rounded-2xl bg-white text-slate-900 hover:opacity-95 text-sm font-extrabold px-4 py-2 transition shadow-lg">
                Sign up
              </a>
            </div>

            <div id="authIn" class="hidden items-center gap-2">
              <a href="/dashboard"
                 class="rounded-2xl bg-white/10 hover:bg-white/15 border border-white/15 text-white font-semibold text-sm px-4 py-2 transition">
                Dashboard
              </a>
              <button id="logoutBtn"
                 class="rounded-2xl bg-white text-slate-900 hover:opacity-95 text-sm font-extrabold px-4 py-2 transition shadow-lg">
                Logout
              </button>
            </div>
          </div>

        </div>
      </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 py-10">
      <div class="glass rounded-[2rem] p-8 md:p-10 shadow-2xl">
        <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6">
          <div>
            <h1 class="text-3xl md:text-5xl font-black tracking-tight text-white">Make PDFs easy.</h1>
            <p class="mt-3 text-white/75 max-w-xl">
              Convert, merge, split, compress, and export PNGs — all in one place.
            </p>

            <!-- ✅ Extra info line -->
            <div class="mt-4 flex flex-wrap gap-2">
              <span class="pill text-white/90 text-xs font-extrabold px-3 py-1.5 rounded-full">Max upload: 25MB</span>
              <span class="pill text-white/80 text-xs font-bold px-3 py-1.5 rounded-full">Keynote (.key) works only on macOS (local)</span>
            </div>
          </div>

          <a href="/tool/office-to-pdf"
             class="inline-flex items-center justify-center rounded-2xl px-6 py-3 bg-white text-slate-900 font-extrabold hover:opacity-95 transition shadow-lg">
            Convert Office → PDF
          </a>
        </div>

        <!-- cards -->
        <section class="mt-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">

          <a href="/tool/office-to-pdf" class="glass rounded-3xl p-6 shadow-xl hover:translate-y-[-2px] transition transform group">
            <div class="flex items-start justify-between">
              <div class="office-mark floaty"><div class="office-inner"><span class="badge">PDF</span></div></div>
              <div class="flex gap-2">
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-emerald-400/20 text-emerald-50 border border-emerald-300/20">LIVE</span>
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-white/10 text-white/90 border border-white/15">25MB</span>
              </div>
            </div>
            <h2 class="mt-4 text-xl font-black text-white">Office → PDF</h2>
            <p class="mt-1 text-white/75 text-sm">DOCX, PPTX, XLSX to PDF. (.key only local macOS)</p>
            <div class="mt-5 text-sm font-extrabold text-white">Open →</div>
          </a>

          <a href="/tool/merge-pdf" class="glass rounded-3xl p-6 shadow-xl hover:translate-y-[-2px] transition transform group">
            <div class="flex items-start justify-between">
              <div class="mini-mark">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4 7h16M4 17h16M7 4v16M17 4v16"/>
                </svg>
              </div>
              <div class="flex gap-2">
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-emerald-400/20 text-emerald-50 border border-emerald-300/20">LIVE</span>
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-white/10 text-white/90 border border-white/15">25MB</span>
              </div>
            </div>
            <h2 class="mt-4 text-xl font-black text-white">Merge PDF</h2>
            <p class="mt-1 text-white/75 text-sm">Combine multiple PDFs into one.</p>
            <div class="mt-5 text-sm font-extrabold text-white">Open →</div>
          </a>

          <a href="/tool/split-pdf" class="glass rounded-3xl p-6 shadow-xl hover:translate-y-[-2px] transition transform group">
            <div class="flex items-start justify-between">
              <div class="mini-mark">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M14 4l6 6-6 6M10 4L4 10l6 6"/>
                </svg>
              </div>
              <div class="flex gap-2">
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-emerald-400/20 text-emerald-50 border border-emerald-300/20">LIVE</span>
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-white/10 text-white/90 border border-white/15">25MB</span>
              </div>
            </div>
            <h2 class="mt-4 text-xl font-black text-white">Split PDF</h2>
            <p class="mt-1 text-white/75 text-sm">Extract pages or split by ranges.</p>
            <div class="mt-5 text-sm font-extrabold text-white">Open →</div>
          </a>

          <a href="/tool/to-png" class="glass rounded-3xl p-6 shadow-xl hover:translate-y-[-2px] transition transform group">
            <div class="flex items-start justify-between">
              <div class="mini-mark">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M8 11a2 2 0 100-4 2 2 0 000 4z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M21 15l-5-5L5 21"/>
                </svg>
              </div>
              <div class="flex gap-2">
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-emerald-400/20 text-emerald-50 border border-emerald-300/20">LIVE</span>
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-white/10 text-white/90 border border-white/15">25MB</span>
              </div>
            </div>
            <h2 class="mt-4 text-xl font-black text-white">To PNG</h2>
            <p class="mt-1 text-white/75 text-sm">PDF → PNG (ZIP) and JPG → PNG.</p>
            <div class="mt-5 text-sm font-extrabold text-white">Open →</div>
          </a>

          <a href="/tool/jpg-to-pdf" class="glass rounded-3xl p-6 shadow-xl hover:translate-y-[-2px] transition transform group">
            <div class="flex items-start justify-between">
              <div class="mini-mark">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M8 11a2 2 0 100-4 2 2 0 000 4z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M21 15l-5-5L5 21"/>
                </svg>
              </div>
              <div class="flex gap-2">
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-emerald-400/20 text-emerald-50 border border-emerald-300/20">LIVE</span>
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-white/10 text-white/90 border border-white/15">25MB</span>
              </div>
            </div>
            <h2 class="mt-4 text-xl font-black text-white">JPG → PDF</h2>
            <p class="mt-1 text-white/75 text-sm">Convert images into a single PDF.</p>
            <div class="mt-5 text-sm font-extrabold text-white">Open →</div>
          </a>

          <a href="/tool/compress-pdf" class="glass rounded-3xl p-6 shadow-xl hover:translate-y-[-2px] transition transform group">
            <div class="flex items-start justify-between">
              <div class="mini-mark">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 7h12M8 7v14m8-14v14M10 11h4"/>
                </svg>
              </div>
              <div class="flex gap-2">
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-emerald-400/20 text-emerald-50 border border-emerald-300/20">LIVE</span>
                <span class="text-xs font-black px-2.5 py-1 rounded-full bg-white/10 text-white/90 border border-white/15">25MB</span>
              </div>
            </div>
            <h2 class="mt-4 text-xl font-black text-white">Compress PDF</h2>
            <p class="mt-1 text-white/75 text-sm">Reduce PDF size.</p>
            <div class="mt-5 text-sm font-extrabold text-white">Open →</div>
          </a>

        </section>

        <footer class="mt-10 text-center text-xs text-white/70">
          Tip: Railway deployment does not support Keynote (.key). Use DOCX/PPTX/XLSX online.
        </footer>
      </div>
    </main>
  </div>

  <script>
    async function setAuthUI(){
      const authOut = document.getElementById("authOut");
      const authIn  = document.getElementById("authIn");
      if(!authOut || !authIn) return;

      try{
        const res = await fetch("/auth/me", { credentials: "include" });
        const data = await res.json();

        if(data && data.logged_in){
          authOut.classList.add("hidden");
          authIn.classList.remove("hidden");
        }else{
          authIn.classList.add("hidden");
          authOut.classList.remove("hidden");
        }
      }catch(e){
        authIn.classList.add("hidden");
        authOut.classList.remove("hidden");
      }
    }

    async function logout(){
      try{
        let res = await fetch("/auth/logout", { method: "POST", credentials: "include" });
        if(!res.ok) await fetch("/auth/logout", { method: "GET", credentials: "include" });
      }catch(e){}
      window.location.reload();
    }

    document.addEventListener("DOMContentLoaded", () => {
      setAuthUI();
      document.getElementById("logoutBtn")?.addEventListener("click", logout);
    });
  </script>
</body>
</html>